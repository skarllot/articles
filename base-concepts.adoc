= Conceitos Iniciais

Antes de analisarmos a vulnerabilidade, irei revisar os conceitos básicos
necessários para entender os problemas.

== Hash (Checksum)

Os algoritmos de soma hash são algoritmos que retornam dados em um *comprimento
fixo* independente do tamanho da entrada, e tais dados são *quase* exclusivos
para os dados de entrada. Os algoritmos mais conhecidos são: MD5, SHA-1 e SHA-2.

Como os resultados retornados por tais algoritmos são apenas apenas uma soma dos
dados de entrada não há como inferir os dados de entrada através do resultado.
Esses resultados são muito úteis para verificação de integridade, pois se espera
que qualquer alteração nos dados de entrada os resultados sejam diferentes.

.Exemplos de Hashes
[cols="<1,<2",frame="none",grid="rows",options="header"]
|===
|Mensagem|Hash
|Oi|lxFc
|Olá, como vai?|R+bU
|Bem-vindo|IB84
|===

== Criptografia Simétrica

Os algoritmos de criptografia simétrica utilizam apenas uma chave para
criptografar um dado qualquer, que pode ser uma mensagem, um arquivo, um pacote
de dados etc. Os algoritmos mais conhecidos são: DES, TripleDES, AES, RC4 e RC5.

A principal vantagem de algoritmos de criptografia simétrica é que são muito
rápidos, o que se traduz em baixa latência e pouco uso de CPU. Já a
principal desvantagem é que por utilizar a mesma chave quanto para criptografar
quanto para descriptografar, essa chave precisa ser compartilhada com o
receptor.

.Envio de Dados com Criptografia Simétrica
image::crypt-sym-alg.png[scaledwidth="95%",alt="Diagrama conceitual"]

.Recebimento de Dados com Criptografia Simétrica
image::crypt-sym-alg2.png[scaledwidth="95%",alt="Diagrama conceitual"]


== Criptografia Assimétrica

Os algoritmos de criptografia assimétrica utilizam duas chaves complementares
para criptografar e descriptografar. Uma das chaves é guardada em segredo e não
é revelada ninguém e outra pode ser publicada a qualquer um livremente. Os
algoritmos mais conhecidos são: RSA e ECDSA.

Um grande diferencial dessa classe de algoritmos é que um dado criptografado com
uma chave pode apenas ser descriptografado com outra e vice-versa. Essa
característica permite que estranhos mantenham uma comunicação segura mesmo que
o meio de comunicação não o seja, e além disso, não há a necessidade de um meio
seguro para que a troca de chave ocorra.

Algoritmos de criptografia assimétrica são muito custosos em termos de CPU, por
esse motivo as comunicações, normalmente, os utilizam como meio de troca de
chave simétrica. Diminuindo, assim o tempo e recursos da CPU.

.Envio de Dados com Criptografia Assimétrica
image::crypt-asym-alg.png[scaledwidth="95%",alt="Diagrama conceitual"]

.Recebimento de Dados com Criptografia Assimétrica
image::crypt-asym-alg2.png[scaledwidth="95%",alt="Diagrama conceitual"]

== Assinaturas

Enquanto que em comunicações os algoritmos de criptografia assimétrica são
utilizados para garantir privacidade, em assinaturas os mesmos são utilizados
para garantir identidade.

Quando Anderson quer enviar um dado sigiloso para Roberta, ele utiliza a chave
pública de Roberta para garantir que apenas Roberta consiga descriptografar o
dado enviado. Entretanto, quando Roberto quer confirmar que um dado foi gerado
por ele, o mesmo pode utilizar a chave privada para criptografar o dado e assim
qualquer com sua chave pública pode confirmar a identidade descriptografando o
dado.

Apesar de eficaz, criptografar todo o dado para garantir identidade não é muito
usual. O problema é que dependendo da aplicação é um gasto de recursos
desnecessário.

Quando queremos apenas confirmar identidade o dado não é privado, pois a chave
pública potencialmente está disponível a qualquer um, o que permite que os
mesmos acessem os dados. Assim, uma maneira eficiente de alcançar o mesmo
objetivo, com quase a mesma eficiência, é gerar uma soma Hash (Checksum) do dado
e criptografar esse resultado. Então a confirmação de identidade passaria a ser
da seguinte maneira: gerar uma soma Hash do dado recebido, descriptografar a
assinatura recebida e por fim comparar se os resultados são iguais.

// vim: ts=4 sw=4 et
